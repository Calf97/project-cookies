<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + Vue</title>

    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-P6MHKL9W");
    </script>
    <!-- End Google Tag Manager -->
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-P6MHKL9W"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div id="app"></div>
    <div
      id="cookie-banner"
      style="
        display: none;
        position: fixed;
        bottom: 0;
        background: #000;
        color: #fff;
        width: 100%;
        padding: 10px;
        text-align: center;
      "
    >
      Este site utiliza cookies para melhorar sua experiência. Ao continuar
      navegando, você concorda com o uso de cookies.
      <button
        id="accept-cookies"
        style="
          background-color: green;
          color: white;
          border: none;
          padding: 5px 10px;
          cursor: pointer;
        "
      >
        Aceitar
      </button>
      <button
        id="deny-cookies"
        style="
          background-color: red;
          color: white;
          border: none;
          padding: 5px 10px;
          cursor: pointer;
        "
      >
        Recusar
      </button>
    </div>
    <script type="module" src="/src/main.js"></script>
    <script>
      window.addEventListener("load", function () {
        const consent = localStorage.getItem("cookieConsent");

        if (!consent) {
          document.getElementById("cookie-banner").style.display = "block";
        }

        document
          .getElementById("accept-cookies")
          .addEventListener("click", function () {
            localStorage.setItem("cookieConsent", "accepted");
            document.getElementById("cookie-banner").style.display = "none";
            dataLayer.push({ event: "cookie_consent", consent: "granted" });
          });

        document
          .getElementById("deny-cookies")
          .addEventListener("click", function () {
            localStorage.setItem("cookieConsent", "denied");
            document.getElementById("cookie-banner").style.display = "none";
            dataLayer.push({ event: "cookie_consent", consent: "denied" });
          });
      });
    </script>
  </body>
</html>
